<!DOCTYPE html>
<html>
  <head>
    <title>Captcha</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="stylescaptcha.css" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>

  <body>
    <div class="captcha-container">
      <div class="header">Captcha</div>
      <div class="securityCode">
        <p id="code"></p>

        <div class="icons">
          <span class="sync">
            <i class="material-icons" style="font-size: 26px;">sync</i>
          </span>
        </div>
      </div>

      <div class="userInput">
        <input type="text" placeholder="Type the text here" />
        <button type="submit" class="btn">Submit</button>
      </div>
    </div>
    <script>
      const changeTextBtn = document.querySelector(".icons");
      const code = document.querySelector("#code");
      const input = document.querySelector(".userInput input");
      const submitBtn = document.querySelector(".btn");

      changeTextBtn.addEventListener("click", () => {
        code.textContent = createCaptcha();
      });
      window.addEventListener("load", () => {
        code.textContent = createCaptcha();
      });

      function createCaptcha() {
        let letters = [
          "A",
          "B",
          "C",
          "D",
          "E",
          "F",
          "G",
          "H",
          "I",
          "J",
          "K",
          "L",
          "M",
          "N",
          "O",
          "P",
          "Q",
          "R",
          "S",
          "T",
          "U",
          "V",
          "W",
          "X",
          "Y",
          "Z",
          "a",
          "b",
          "c",
          "d",
          "e",
          "f",
          "g",
          "h",
          "i",
          "j",
          "k",
          "l",
          "m",
          "n",
          "o",
          "p",
          "q",
          "r",
          "s",
          "t",
          "u",
          "v",
          "w",
          "x",
          "y",
          "z",
          "0",
          "1",
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8",
          "9"
        ];
        let a = letters[Math.floor(Math.random() * letters.length)];
        let b = letters[Math.floor(Math.random() * letters.length)];
        let c = letters[Math.floor(Math.random() * letters.length)];
        let d = letters[Math.floor(Math.random() * letters.length)];
        let e = letters[Math.floor(Math.random() * letters.length)];
        let f = letters[Math.floor(Math.random() * letters.length)];
        let g = letters[Math.floor(Math.random() * letters.length)];
        let code = a + b + c + d + e + f + g;
        return code;
      }
      submitBtn.addEventListener("click", () => {
        let val = input.value;
        if (val == "") {
          alert("Please Enter The code");
        } else if (val === code.textContent) {
          alert("Valid input");
        } else {
          alert("invalid input !");
        }
      });
    </script>
  </body>
</html>
